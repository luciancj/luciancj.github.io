<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Lucian Cojocaru - Retro Terminal</title>
    <meta
      name="description"
      content="Lucian Cojocaru's interactive retro computer portfolio website"
    />
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover" />
    <meta name="theme-color" content="#0a0a0a" />
    
    <!-- Import map to resolve 'three' module -->
    <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.module.js",
        "three/": "https://cdn.jsdelivr.net/npm/three@0.158.0/"
      }
    }
    </script>
    
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <!-- WebGL Canvas -->
    <canvas class="webgl"></canvas>
    
    <!-- Hidden textarea for input capture -->
    <input type="text" id="textarea" style="position: fixed; z-index: -1; opacity: 0;" />
    
    <!-- Loading Screen -->
    <div id="loading">
      <h2>Booting...</h2>
      <div id="loading-bar">
        <div id="loading-bar-progress"></div>
      </div>
      <div id="loading-text">Starting...</div>
    </div>

    <!-- CRT Monitor Housing (Simplified for 3D text rendering) -->
    <div id="monitor-housing">
      <div id="monitor-bezel">
        <div id="monitor-screen">
          <div id="terminal-container">
            <div id="crt-effect"></div>
            <!-- Terminal content will be rendered in WebGL -->
          </div>
        </div>
      </div>
      <div id="monitor-stand"></div>
    </div>

    <script type="module" src="script.js" onerror="console.error('Failed to load script.js')"></script>
    <script>
      // Catch module loading errors
      window.addEventListener('error', (e) => {
        console.error('Global error:', e.message, e.filename, e.lineno);
      });
      
      window.addEventListener('unhandledrejection', (e) => {
        console.error('Unhandled promise rejection:', e.reason);
      });
    </script>
  </body>
</html>
